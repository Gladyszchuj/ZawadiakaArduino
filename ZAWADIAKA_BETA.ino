#define Piezo 11
#define LED1 3
#define LED2 4
#define LED3 5

void setup() {
pinMode(LED3,OUTPUT);
pinMode(LED2,OUTPUT);
pinMode(LED1,OUTPUT);
}
int i=0;
void r(){ 
 if(i==0){
digitalWrite(LED3,LOW);
digitalWrite(LED1,HIGH);
i=1;
 }else if(i==1){
digitalWrite(LED1,LOW);
digitalWrite(LED2,HIGH);
i=2;
}else{
digitalWrite(LED2,LOW);
digitalWrite(LED3,HIGH);
i=0;
}
}
void PAPIEZ() {
int melody[] = { 261, 261, 195, 261, 293, 311, 311, 293, 261, 293, 293, 261, 233, 261, 233, 207, 261, 195, 261, 195, 261, 195, 261, 293, 311, 311, 293, 261, 293, 293, 311, 349, 391, 391, 415, 391, 415, 391, 415, 391, 415, 391, 311, 391, 391, 349, 391, 311, 415, 415, 415, 391, 349, 391, 415, 415, 415, 466, 391, 311};
float tempo[] = { 654.5448, 163.6362, 163.6362, 163.6362, 163.6362, 818.181, 163.6362, 163.6362, 163.6362, 818.181, 163.6362, 163.6362, 163.6362, 654.5448, 327.2724, 327.2724, 163.6362, 163.6362, 163.6362, 163.6362, 163.6362, 163.6362, 163.6362, 163.6362, 818.181, 163.6362, 163.6362, 163.6362, 818.181, 163.6362, 163.6362, 163.6362, 818.181, 163.6362, 163.6362, 163.6362, 818.181, 163.6362, 163.6362, 163.6362, 981.8172, 327.2724, 818.181, 163.6362, 163.6362, 163.6362, 654.5448, 654.5448, 818.181, 163.6362, 163.6362, 163.6362, 981.8172, 327.2724, 818.181, 163.6362, 163.6362, 163.6362, 654.5448, 654.5448};
float del[] = {727.272, 181.818, 181.818, 181.818, 181.818, 909.09, 181.818, 181.818, 181.818, 909.09, 181.818, 181.818, 181.818, 727.272, 363.636, 363.636, 181.818, 181.818, 181.818, 181.818, 181.818, 181.818, 181.818, 181.818, 909.09, 181.818, 181.818, 181.818, 909.09, 181.818, 181.818, 181.818, 909.09, 181.818, 181.818, 181.818, 909.09, 181.818, 181.818, 181.818, 1090.908, 363.636, 909.09, 181.818, 181.818,  181.818, 727.272, 727.272, 909.09, 181.818, 181.818, 181.818, 1090.908, 363.636, 909.09, 181.818, 181.818, 181.818, 727.272, 727.272};  
for(int i=0; i<sizeof(melody)/2;i++){
  r();
  tone(Piezo, melody[i], tempo[i]);
  delay(del[i]);
  }                                      
}
void loop() {
   if (digitalRead(2)==1) 
    PAPIEZ();
}

